# PLC寄存器配置示例

## 使用说明

本配置文件展示了如何在串口通信工具中配置和使用不同类型的PLC寄存器。

## 寄存器类型配置

### 1. X点 (输入点) 配置
```
寄存器类型: X点 (输入点)
地址格式: X00, X01, X07, X10, X17, X20...
地址范围: X00-X377 (八进制)
示例操作:
- 读取X00: 地址填写"X00", 数量填写"1"
- 读取X00-X07: 地址填写"X00", 数量填写"8"
- 读取X10-X17: 地址填写"X10", 数量填写"8"
```

### 2. Y点 (输出点) 配置
```
寄存器类型: Y点 (输出点)
地址格式: Y00, Y01, Y07, Y10, Y17, Y20...
地址范围: Y00-Y377 (八进制)
示例操作:
- 读取Y00: 地址填写"Y00", 数量填写"1"
- 写入Y00为ON: 地址填写"Y00", 值填写"1"
- 读取Y00-Y07: 地址填写"Y00", 数量填写"8"
```

### 3. D寄存器 (数据寄存器) 配置
```
寄存器类型: D寄存器 (数据寄存器)
地址格式: D0, D1, D100, D1000, D7999...
地址范围: D0-D7999
示例操作:
- 读取D0: 地址填写"D0", 数量填写"1"
- 写入D100值为1234: 地址填写"D100", 值填写"1234"
- 读取D0-D9: 地址填写"D0", 数量填写"10"
```

### 4. M寄存器 (内部继电器) 配置
```
寄存器类型: M寄存器 (内部继电器)
地址格式: M0, M1, M100, M1000, M7999...
地址范围: M0-M7999
示例操作:
- 读取M0: 地址填写"M0", 数量填写"1"
- 写入M100为ON: 地址填写"M100", 值填写"1"
- 读取M0-M15: 地址填写"M0", 数量填写"16"
```

## 常用地址映射表

### X点地址映射 (八进制到十进制)
```
PLC地址  十进制值  说明
X00      0        第0组第0个输入点
X01      1        第0组第1个输入点
X07      7        第0组第7个输入点
X10      8        第1组第0个输入点  
X11      9        第1组第1个输入点
X17      15       第1组第7个输入点
X20      16       第2组第0个输入点
X27      23       第2组第7个输入点
```

### Y点地址映射 (八进制到十进制)
```
PLC地址  十进制值  说明
Y00      0        第0组第0个输出点
Y01      1        第0组第1个输出点
Y07      7        第0组第7个输出点
Y10      8        第1组第0个输出点
Y11      9        第1组第1个输出点
Y17      15       第1组第7个输出点
Y20      16       第2组第0个输出点
Y27      23       第2组第7个输出点
```

## 操作示例

### 示例1: 读取所有输入点状态
```
操作: 读取寄存器
寄存器类型: X点 (输入点)
地址: X00
数量: 32
说明: 读取X00-X37所有输入点状态
```

### 示例2: 控制输出点
```
操作: 写入寄存器
寄存器类型: Y点 (输出点)  
地址: Y00
值: 1
说明: 设置Y00输出为ON状态
```

### 示例3: 读取数据寄存器
```
操作: 读取寄存器
寄存器类型: D寄存器 (数据寄存器)
地址: D100
数量: 10
说明: 读取D100-D109的数值
```

### 示例4: 设置内部继电器
```
操作: 写入寄存器
寄存器类型: M寄存器 (内部继电器)
地址: M500
值: 1  
说明: 设置M500为ON状态
```

## 错误处理

### 常见错误及解决方法

1. **地址格式错误**
   - 错误: "X点地址格式错误"
   - 解决: 确保X点地址格式为X00-X77 (八进制)

2. **地址超出范围**
   - 错误: "D寄存器地址超出范围"
   - 解决: 确保D寄存器地址在0-7999范围内

3. **通信超时**
   - 错误: "读取寄存器失败: 超时"
   - 解决: 检查串口连接和设备响应

4. **功能码不支持**
   - 错误: "非法功能码"
   - 解决: 确认设备支持相应的Modbus功能码

## 高级配置

### 批量操作
```
# 批量读取多个不连续的寄存器
寄存器类型: D寄存器 (数据寄存器)
地址: D0
数量: 1
备注: 需要逐个读取不连续地址

# 批量设置输出点
寄存器类型: Y点 (输出点)
地址: Y00  
数量: 8
值: 0xFF (二进制: 11111111)
说明: 同时设置Y00-Y07为ON
```

### 数据格式转换
```
# 16位数据合并为32位
D0 = 1234 (低16位)
D1 = 5678 (高16位)  
合并结果 = 5678 * 65536 + 1234 = 372036278

# 浮点数处理 (IEEE 754)
D100-D101存储32位浮点数
读取时需要进行格式转换
```
